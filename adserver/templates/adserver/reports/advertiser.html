{% extends "adserver/reports/base.html" %}
{% load humanize %}
{% load i18n %}


{% block title %}
{% trans 'Advertiser Report' %} - {{ campaign }}
{% endblock %}


{% block heading %}
{% trans 'Advertiser Report' %} for {{ advertiser }}
from {{ start_date|date:"M j, Y" }}{% if end_date %} - {{ end_date|date:"M j, Y" }}{% endif %}
{% endblock heading %}


{% block breadcrumbs %}
  {{ block.super }}
  <li class="breadcrumb-item active">{{ advertiser }}</li>
{% endblock breadcrumbs %}


{% block summary %}
  {% if ads_and_reports|length > 1 %}
    <section>
      <div>
        <h2>
          Total results for all ads
        </h2>
        <table class="table table-hover">
          <thead>
            <tr>
              <th><strong>Time Period</strong></th>
              <th><strong>Total&nbsp;Views</strong></th>
              <th><strong>Total&nbsp;Clicks</strong></th>
              <th><strong>Total&nbsp;Cost</strong></th>
              <th><strong>Total&nbsp;<abbr title="Click through rate">CTR</abbr></strong></th>
            </tr>
          </thead>
          <tbody>
            {% for day in advertiser_report.days %}
              {% if day.views > 0 or day.clicks > 0 %}
              <tr>
                <td>{{ day.date }}</td>
                <td>{{ day.views|intcomma }}</td>
                <td>{{ day.clicks|intcomma }}</td>
                <td>${{ day.cost|floatformat:2|intcomma }}</td>
                <td>{{ day.ctr|floatformat:3 }}%</td>
              </tr>
              {% endif %}
            {% endfor %}
            <tr>
              <td><strong>{{ start_date|date:"M j, Y" }} - {{ end_date|date:"M j, Y" }}</strong></td>
              <td><strong>{{ total_views|intcomma }}</strong></td>
              <td><strong>{{ total_clicks|intcomma }}</strong></td>
              <td><strong>${{ total_cost|floatformat:2|intcomma }}</strong></td>
              <td><strong>{{ total_ctr|floatformat:3 }}%</strong></td>
            </tr>
          </tbody>
        </table>
      </div>
    </section>
  {% endif %}

{% endblock summary %}
